{"ast":null,"code":"import _asyncToGenerator from \"C:/projetos/ecommerce-aws/frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"../services/product.service\";\nfunction ProductsComponent_tr_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r1 = i0.ɵɵgetCurrentView();\n    i0.ɵɵdomElementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵdomElementEnd();\n    i0.ɵɵdomElementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵpipe(5, \"currency\");\n    i0.ɵɵdomElementEnd();\n    i0.ɵɵdomElementStart(6, \"td\");\n    i0.ɵɵtext(7);\n    i0.ɵɵdomElementEnd();\n    i0.ɵɵdomElementStart(8, \"td\")(9, \"button\", 10);\n    i0.ɵɵdomListener(\"click\", function ProductsComponent_tr_13_Template_button_click_9_listener() {\n      const p_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.edit(p_r2));\n    });\n    i0.ɵɵtext(10, \"Editar\");\n    i0.ɵɵdomElementEnd();\n    i0.ɵɵdomElementStart(11, \"button\", 11);\n    i0.ɵɵdomListener(\"click\", function ProductsComponent_tr_13_Template_button_click_11_listener() {\n      const p_r2 = i0.ɵɵrestoreView(_r1).$implicit;\n      const ctx_r2 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r2.remove(p_r2.id));\n    });\n    i0.ɵɵtext(12, \"Remover\");\n    i0.ɵɵdomElementEnd()()();\n  }\n  if (rf & 2) {\n    const p_r2 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(p_r2.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(i0.ɵɵpipeBind2(5, 3, p_r2.price, \"BRL\"));\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(p_r2.description);\n  }\n}\nexport let ProductsComponent = /*#__PURE__*/(() => {\n  var _staticBlock;\n  class ProductsComponent {\n    constructor(service) {\n      this.service = service;\n      this.products = [];\n      this.model = {\n        name: '',\n        price: null,\n        description: ''\n      };\n      this.editingId = null;\n    }\n    ngOnInit() {\n      this.load();\n    }\n    load() {\n      var _this = this;\n      return _asyncToGenerator(function* () {\n        _this.products = yield _this.service.list();\n      })();\n    }\n    save() {\n      var _this2 = this;\n      return _asyncToGenerator(function* () {\n        if (_this2.editingId) {\n          yield _this2.service.update(_this2.editingId, _this2.model);\n          _this2.editingId = null;\n        } else {\n          yield _this2.service.create(_this2.model);\n        }\n        _this2.model = {\n          name: '',\n          price: null,\n          description: ''\n        };\n        yield _this2.load();\n      })();\n    }\n    edit(p) {\n      this.editingId = p.id;\n      this.model = {\n        name: p.name,\n        price: p.price,\n        description: p.description\n      };\n    }\n    remove(id) {\n      var _this3 = this;\n      return _asyncToGenerator(function* () {\n        yield _this3.service.delete(id);\n        yield _this3.load();\n      })();\n    }\n    static #_ = _staticBlock = () => (this.ɵfac = function ProductsComponent_Factory(__ngFactoryType__) {\n      return new (__ngFactoryType__ || ProductsComponent)(i0.ɵɵdirectiveInject(i1.ProductService));\n    }, this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: ProductsComponent,\n      selectors: [[\"app-products\"]],\n      decls: 25,\n      vars: 5,\n      consts: [[1, \"row\"], [1, \"col-md-8\"], [1, \"table\", \"table-striped\"], [4, \"ngFor\", \"ngForOf\"], [1, \"col-md-4\"], [1, \"mb-2\"], [\"placeholder\", \"Nome\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"type\", \"number\", \"placeholder\", \"Pre\\u00E7o\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [\"placeholder\", \"Descri\\u00E7\\u00E3o\", 1, \"form-control\", 3, \"ngModelChange\", \"ngModel\"], [1, \"btn\", \"btn-success\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-primary\", \"me-2\", 3, \"click\"], [1, \"btn\", \"btn-sm\", \"btn-danger\", 3, \"click\"]],\n      template: function ProductsComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵdomElementStart(0, \"div\", 0)(1, \"div\", 1)(2, \"table\", 2)(3, \"thead\")(4, \"tr\")(5, \"th\");\n          i0.ɵɵtext(6, \"Nome\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(7, \"th\");\n          i0.ɵɵtext(8, \"Pre\\u00E7o\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(9, \"th\");\n          i0.ɵɵtext(10, \"Descri\\u00E7\\u00E3o\");\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElement(11, \"th\");\n          i0.ɵɵdomElementEnd()();\n          i0.ɵɵdomElementStart(12, \"tbody\");\n          i0.ɵɵdomTemplate(13, ProductsComponent_tr_13_Template, 13, 6, \"tr\", 3);\n          i0.ɵɵdomElementEnd()()();\n          i0.ɵɵdomElementStart(14, \"div\", 4)(15, \"h5\");\n          i0.ɵɵtext(16);\n          i0.ɵɵdomElementEnd();\n          i0.ɵɵdomElementStart(17, \"div\", 5)(18, \"input\", 6);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductsComponent_Template_input_ngModelChange_18_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.model.name, $event) || (ctx.model.name = $event);\n            return $event;\n          });\n          i0.ɵɵdomElementEnd()();\n          i0.ɵɵdomElementStart(19, \"div\", 5)(20, \"input\", 7);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductsComponent_Template_input_ngModelChange_20_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.model.price, $event) || (ctx.model.price = $event);\n            return $event;\n          });\n          i0.ɵɵdomElementEnd()();\n          i0.ɵɵdomElementStart(21, \"div\", 5)(22, \"textarea\", 8);\n          i0.ɵɵtwoWayListener(\"ngModelChange\", function ProductsComponent_Template_textarea_ngModelChange_22_listener($event) {\n            i0.ɵɵtwoWayBindingSet(ctx.model.description, $event) || (ctx.model.description = $event);\n            return $event;\n          });\n          i0.ɵɵdomElementEnd()();\n          i0.ɵɵdomElementStart(23, \"button\", 9);\n          i0.ɵɵdomListener(\"click\", function ProductsComponent_Template_button_click_23_listener() {\n            return ctx.save();\n          });\n          i0.ɵɵtext(24, \"Salvar\");\n          i0.ɵɵdomElementEnd()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(13);\n          i0.ɵɵdomProperty(\"ngForOf\", ctx.products);\n          i0.ɵɵadvance(3);\n          i0.ɵɵtextInterpolate1(\"\", ctx.editingId ? \"Editar\" : \"Novo\", \" produto\");\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.model.name);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.model.price);\n          i0.ɵɵadvance(2);\n          i0.ɵɵtwoWayProperty(\"ngModel\", ctx.model.description);\n        }\n      },\n      encapsulation: 2\n    }));\n  }\n  _staticBlock();\n  return ProductsComponent;\n})();","map":null,"metadata":{},"sourceType":"module","externalDependencies":[]}